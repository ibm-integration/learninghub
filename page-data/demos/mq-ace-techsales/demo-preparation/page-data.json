{"componentChunkName":"component---src-pages-demos-mq-ace-techsales-demo-preparation-mdx","path":"/demos/mq-ace-techsales/demo-preparation/","result":{"pageContext":{"frontmatter":{"title":"MQ and ACE Demo","description":"MQ and ACE Demo","tabs":["Demo preparation","Demo script"]},"relativePagePath":"/demos/mq-ace-techsales/demo-preparation.mdx","titleType":"page","MdxNode":{"id":"6ecba3b6-4667-5673-b5cb-9990f871513c","children":[],"parent":"13ea75e4-803c-54cd-aa80-fc7bed33d7d2","internal":{"content":"---\r\ntitle: MQ and ACE Demo\r\ndescription: MQ and ACE Demo\r\ntabs: [ 'Demo preparation', 'Demo script']\r\n---\r\n\r\n\r\n<FeatureCard\r\n  title=\"Access backend systems using Messaging and Integration - Demo Preparation\"\r\n  color=\"dark\"\r\n  >\r\n\r\n![banner](./images/messaging-banner.jpg)\r\n\r\n</FeatureCard>\r\n\r\n<AnchorLinks>\r\n  <AnchorLink>1 - Review Demo Scenario</AnchorLink>\r\n  <AnchorLink>2 - OpenShift Installation</AnchorLink>\r\n  <AnchorLink>3 - Access your OpenShift cluster and install the command line</AnchorLink>\r\n  <AnchorLink>4 - Clone Repositories</AnchorLink>\r\n  <AnchorLink>5 - Set Context</AnchorLink>\r\n  <AnchorLink>6 - Install Foundational Services</AnchorLink>\r\n  <AnchorLink>7 - Deploy the Platform UI</AnchorLink>\r\n  <AnchorLink>8 - Deploy the Enterprise Messaging (MQ)</AnchorLink>\r\n  <AnchorLink>9 - Deploy the App Connect</AnchorLink>\r\n  <AnchorLink>10 - Install IBM App Connect Enterprise for Developers (Toolkit)</AnchorLink>\r\n</AnchorLinks>\r\n\r\n***\r\n\r\n<InlineNotification kind=\"warning\">This Demo Preparation document (steps 3, 4, 5, 6, 7 and 8) uses multiple shell scripts to install MQ environment and demo assets. These scripts are available for MAC OS and Linux users. If you are a Windows user, follow this documentation <a href=\"https://ibm-integration.github.io/learninghub/demos/cp4i-api-tech/win-user/\" target=\"_blank\">here</a> to request a Linux Virtual Machine, only to install the demo environment. For the demo script, you can use your Windows machine.</InlineNotification>\r\n\r\n### 1 - Review Demo Scenario\r\n\r\n| DEMO OVERVIEW |                          |\r\n| --------------------------------------- | ------------------------------------- |\r\n| **Scenario overview** | Access applications through  messages and integrations.  <br/><br/> To automate this customer interaction, we will use both messaging and integrations to back-end applications. |\r\n| **Demo products** | Cloud Pak for Integration (IBM MQ & ACE) |\r\n| **Demo capabilities** | Message Queue; ACE Toolkit; Application integration |\r\n| **Demo intro slides** | Download the Introduction and Overview slides <a href=\"https://github.com/ibm-integration/learninghub/blob/main/src/pages/demos/mq-ace-techsales/files/MQACESlides.pptx\" target=\"_blank\" rel=\"noreferrer\">here</a>. |\r\n| **Demo script** | This demo script has multiple tasks that each have multiple steps. In each step, you have the details about what you need to do (**Actions**), what you can say while delivering this demo step (**Narration**), and what diagrams and screenshots you will see.<br/><br/> This demo script is a suggestion, and you are welcome to customize based on your sales opportunity. Most importantly, practice this demo in advance. If the demo seems easy for you to execute, the customer will focus on the content. If it seems difficult for you to execute, the customer will focus on your delivery. |\r\n| **Prerequisites** | You need to have installed in your machine: <br/>- <a href=\"https://docs.openshift.com/container-platform/4.8/cli_reference/openshift_cli/getting-started-cli.html\" target=\"_blank\">oc CLI</a> v4.6+.<br/>- github CLI<br/>- Bash Shell<br/><br/>- JAVA v8+ <br/><br/>And you also need an account in the folllowing email service to configure your CP4I environment:<br/>- <a href=\"https://mailtrap.io/\" target=\"_blank\">mailtrap</a>|\r\n| **Demo authors** | Rafael Osorio, Carlos Hirata and Ravi Katikala |\r\n| **How to get support** | Contact <a href=\"mailto:rosorio@br.ibm.com\">rosorio@br.ibm.com</a> regarding issues with running this demo use case or installing the Cloud Pak for Integration. <br/><br/> Open a support case at <a href=\"https://techzone.ibm.com/help\" target=\"_blank\">IBM Technology Zone Help</a> regarding issues with reserving and provisioning Tech Zone environments.|\r\n\r\n***\r\n\r\n### 2 - OpenShift Installation\r\n\r\n<InlineNotification>If you already requested an environment for <a href=\"https://ibm-integration.github.io/learninghub/demos/mq-techsales/demo-preparation\" target=\"_blank\">MQ Uniform Clusters Demo</a>, you can reuse the same environment! You don't need to repeat the same demo preparation steps again, just go ahead and skip to step <a href=\"https://ibm-integration.github.io/learninghub/demos/mq-ace-techsales/demo-preparation#9-deploy-the-app-connect\">9 - Deploy the App Connect</a>, and complete steps 9 and 10, and you will be ready to complete this demo. If not, go ahead and complete all steps of this document (steps 2 to 10).</InlineNotification>\r\n\r\n\r\nIBM Cloud Pak for Integration brings together IBM’s market-leading middleware capabilities to support a broad range of integration styles and use cases. With powerful deployment, lifecycle management, and production services running on Red Hat OpenShift, it enables clients to leverage the latest agile integration practices, simplify the management of their integration architecture, and reduce cost. Cloud Pak for Integration demands an OpenShift cluster.\r\n\r\nFollow the steps below to provision a Red Hat OpenShift Container Platform cluster on VMware on IBM Cloud.\r\n\r\n\r\n2.1 To request an OpenShift Cluster on VMware on IBM Cloud, go <a href=\"https://techzone.ibm.com/my/reservations/create/63a3a25a3a4689001740dbb3\" target=\"_blank\">here</a> and complete the form with the follow details.\r\n    Note: if you have any issue to access the url above, copy and paste the url below in your browser.\r\n```\r\nhttps://techzone.ibm.com/my/reservations/create/63a3a25a3a4689001740dbb3\r\n```\r\n\r\n| Field  | Value |\r\n| ------------- | ------------- |\r\n| Purpose  | If you are doing the L4 course, select **Practice/Self Enablement**. <br/> If you are delivering a PoC, select:**Proof-of-Technology** and inform the Sales opportunity.  |\r\n| Purpose Description  | If you are doing the L3 course, enter: **MQ L3 Course**. <br/> If you are delivering a POC, enter the PoC details.  |\r\n| Preferred Geography  | You are welcome to select the preferred Geography |\r\n\r\n![](images/ocp-install-1.png)\r\n\r\n| Field  | Value |\r\n| ------------- | ------------- |\r\n| OpenShift Version | 4.14 |\r\n| Storage  | ODF - 2 TB |\r\n| Worker Node Count  | 5 |\r\n| Worker Node Flavor  | 16 vCPU x 64 GB - 100 GB ephemeral storage |\r\n\r\n![](images/ocp-install-new-1-2.png)\r\n\r\n2.2 **Agree** with the TechZone Terms and Conditions (A) and click **Submit** (B).\r\n![](images/ocp-install-2.png)\r\n\r\n2.3 You will receive an email confirming the instance is provisioning.\r\n![](images/ocp-install-3.png)\r\n\r\n2.4 You will receive a second email once the environment is provisioned. You should expect this to take between 30 and 120 minutes. Now the status update changed to **Ready**.  Click on **Reservation ID** to open the details page of your new reservation environment.\r\n![](images/ocp-install-4.png)\r\n\r\n2.5 Copy your **Cluster Admin Username** (A) and **Cluster Admin Password** (B). Copy the **OCP Console link** (C).\r\n![](images/ocp-install-5.png)\r\n\r\n***\r\n\r\n### 3 - Access your OpenShift cluster and install the command line\r\n\r\nIn this section, you access your OpenShift cluster and install the OpenShift command line tool.\r\n\r\n3.1 In a Browser, open the OCP Console link and paste the **Cluster Admin Username** (A) and **Password** (B) copied in the previous step and click **Log in** (C).\r\n![](images/oc-cli-1.png)\r\n\r\n3.2 Great, you are almost ready for the demo. Last but not least important, let’s copy login command to access the cluster by CLI. On the top right, click your **username** (A) and select **Copy login command** (B).\r\n![](images/oc-cli-2.png)\r\n\r\n3.3 Click **Display Token**.\r\n![](images/oc-cli-3.png)\r\n\r\n3.4 Copy the **Log in with this token command** and **paste** on a terminal window.\r\n![](images/oc-cli-4.png)\r\n\r\n![](images/oc-cli-4-2.png)\r\n\r\nThat is it! Now you are ready for the Cloud Pak for Integration installation. Take a breath and let's start to install the Pak.\r\n\r\n***\r\n\r\n### 4 - Clone Repositories\r\n\r\nTo use this guide you will need to clone the demo repo to your workstation. Let's do it now!\r\n\r\n\r\n4.1 Open a terminal window and **run** the command below.\r\n\r\n```\r\ngh repo clone gomezrjo/cp4i-demo\r\n```\r\n\r\n4.2 Open the **cp4i-demo** folder.\r\n```\r\ncd cp4i-demo\r\n```\r\n\r\n***\r\n\r\n### 5 - Set Context\r\n\r\nBased on where you have deployed your OCP cluster you will need to set up some environment variables to inform the installation script about your environment. Let’s do it here!\r\n\r\n5.1 First, you need to define an environment variable to inform CP4I version.\r\n\r\n```\r\nexport CP4I_VER=2023.4\r\n```\r\n\r\n5.2 Now let's set the OCP type based on the storage classes in your cluster.\r\n```\r\nexport OCP_TYPE=ODF\r\n```\r\n\r\n`Note:` If you are using ROKS cluster, use export OCP_TYPE=ROKS.\r\n\r\n\r\n5.3 Set mailtap credentials.\r\n```\r\nexport MAILTRAP_USER=<my-mailtrap-user>\r\nexport MAILTRAP_PWD=<my-mailtrap-pwd>\r\n```\r\n\r\n5.4 If you have provisioned your OCP cluster in Tech Zone you can use the following script to set the proper default storage class.\r\n```\r\nscripts/99-odf-tkz-set-scs.sh\r\n```\r\n\r\n5.5 Your cluster will also need access to pull the container software required to deploy the Cloud Pak. Your Entitlement Key is used to grant access. You can download you entitlement key from <a href=\"https://myibm.ibm.com/products-services/containerlibrary\" target=\"_blank\">My IBM</a>. Click **Copy**.\r\n![](images/set-context-5.png)\r\n\r\n5.6 The IBM Entitled Registry contains software images for the capabilities in IBM Cloud Pak® for Integration. To allow the Cloud Pak for Integration operators to automatically pull those software images, you must first obtain your entitlement key, then add your entitlement key in a pull secret.  Replace the *my-key* with your **IBM entitlement key**.\r\n```\r\nexport ENT_KEY=<my-key>\r\n```\r\n\r\n5.7 Now, you need a namespace where you will deploy the different capabilities.\r\n```\r\nscripts/02a-cp4i-ns-key-config.sh\r\n```\r\n\r\n***\r\n\r\n### 6 - Install Foundational Services\r\n\r\nThe IBM Cloud Pak foundational services operator is no longer installed automatically. Install this operator manually if you need to create an instance that uses identity and access management. That is exactly, what you will do in this section.\r\n\r\n6.1 First we need to have a certificate manager, otherwise,  the IBM Cloud Pak foundational services operator installation will not complete. Let's do it!\r\n```\r\noc apply -f resources/00-cert-manager-namespace.yaml\r\noc apply -f resources/00-cert-manager-operatorgroup.yaml\r\noc apply -f resources/00-cert-manager-subscription.yaml\r\n```\r\n\r\n6.2 Confirm the subscription has been completed successfully before moving to the next step running the following command.\r\n```\r\noc get pods -n cert-manager-operator\r\n```\r\n\r\nYou should get a response like this:\r\n```\r\nNAME                                                        READY   STATUS    RESTARTS   AGE\r\ncert-manager-operator-controller-manager-7f779b98b4-2f64r   2/2     Running   0          13h\r\n```\r\n\r\n6.3 Now, you need to install Postgress SQL Catalog Source.\r\n```\r\noc apply -f catalog-sources/${CP4I_VER}/01-postgress-sql-catalog-source-4.22.0.yaml\r\n```\r\n\r\n6.4 Confirm the catalog source has been deployed successfully before moving to the next step running the following command.\r\n```\r\noc get pods -n openshift-marketplace | grep postgresql\r\n```\r\n\r\nYou should get a response like this:\r\n```\r\ncloud-native-postgresql-catalog-jsmbk                             1/1     Running     0             14h\r\n```\r\n\r\n6.5 Ok, now you need to install Common Services Catalog source.\r\n```\r\noc apply -f catalog-sources/${CP4I_VER}/02-common-services-catalog-source-4.5.0.yaml\r\n```\r\n\r\n6.6 Confirm the catalog source has been deployed successfully before moving to the next step running the following command.\r\n```\r\noc get pods -n openshift-marketplace | grep opencloud\r\n```\r\n\r\nYou should get a response like this:\r\n```\r\nopencloud-operators-fhbfd                                         1/1     Running     0             14h\r\n```\r\n\r\n6.7 Create the Common Services namespace.\r\n```\r\noc new-project ibm-common-services\r\n```\r\n\r\n6.8 Now, let's intall the Foundational Services operator (former Common Services).\r\n```\r\noc apply -f subscriptions/${CP4I_VER}/00-common-service-subscription.yaml\r\n```\r\n\r\n6.9 Confirm the operator has been deployed successfully before moving to the next step running the following command.\r\n```\r\noc get pods -n openshift-operators | grep ibm-common-service\r\n```\r\n\r\nYou should get a response like this:\r\n```\r\nibm-common-service-operator-8c9b944f4-nkkgb                       1/1     Running     0          14h\r\n```\r\n\r\n***\r\n\r\n### 7 - Deploy the Platform UI\r\n\r\nDeploying the Platform UI allows you to deploy and manage instances from a central location.\r\n\r\n7.1 First, let's install Platform UI Catalog source.\r\n```\r\noc apply -f catalog-sources/${CP4I_VER}/03-platform-navigator-catalog-source-7.2.3.yaml\r\n```\r\n\r\n7.2 Confirm the catalog source has been deployed successfully before moving to the next step running the following command.\r\n```\r\noc get pods -n openshift-marketplace | grep ibm-integration-platform-navigator\r\n```\r\n\r\nYou should get a response like this:\r\n```\r\nibm-integration-platform-navigator-catalog-xsm4w                  1/1     Running     0             14h\r\n```\r\n\r\n7.3 Now, let's install the Platform UI Operator.\r\n```\r\noc apply -f subscriptions/${CP4I_VER}/01-platform-navigator-subscription.yaml\r\n```\r\n\r\n7.4 Confirm the operator has been deployed successfully before moving to the next step running the following command.\r\n```\r\noc get pods -n openshift-operators | grep ibm-integration-platform-navigator\r\n```\r\n\r\nYou should get a response like this:\r\n```\r\nibm-integration-platform-navigator-operator-6489bb9b7-tcnz8       1/1     Running     0          14h\r\n```\r\n\r\n7.5 Let's deploy a Platform UI instance.\r\n```\r\noc apply -f instances/${CP4I_VER}/common/01-platform-navigator-instance.yaml\r\n```\r\n\r\n7.6 Confirm the instance has been deployed successfully before moving to the next step running the following command:\r\n```\r\noc get platformnavigator -n tools\r\n```\r\n\r\nYou should get a response like this:\r\n```\r\nNAME             REPLICAS   VERSION      STATUS   READY   LASTUPDATE   AGE   MESSAGE\r\ncp4i-navigator   3          2023.4.1-0   Ready    True    13h          14h   Platform UI has been provisioned.\r\n```\r\n\r\n7.7 Once the Platform UI instance is up and running get the access info.\r\n```\r\nscripts/03b-cp4i-access-info.sh\r\n```\r\n\r\n7.8 Open the Platform UI  URL and log in. Note the password is temporary and you will be required to change it. Take note of your new password, you will use it multiple times.\r\n![](images/platform-ui-8.png)\r\n\r\n***\r\n\r\n### 8 - Deploy the Enterprise Messaging (MQ)\r\n\r\n8.1 First, let's intall the MQ Catalog Source.\r\n```\r\noc apply -f catalog-sources/${CP4I_VER}/09-mq-catalog-source-3.1.1.yaml\r\n```\r\n\r\n8.2 Confirm the catalog source has been deployed successfully before moving to the next step running the following command.\r\n```\r\noc get pods -n openshift-marketplace | grep ibmmq\r\n```\r\n\r\nYou should get a response like this:\r\n```\r\nibmmq-operator-catalogsource-4h9ql                                1/1     Running     0              3d23h\r\n```\r\n\r\n8.3 Now, let's install the MQ Operator.\r\n```\r\noc apply -f subscriptions/${CP4I_VER}/06-mq-subscription.yaml\r\n```\r\n\r\n8.4 Confirm the operator has been deployed successfully before moving to the next step running the following command.\r\n```\r\noc get pods -n openshift-operators | grep ibm-mq\r\n```\r\n\r\nYou should get a response like this:\r\n```\r\nibm-mq-operator-5965468479-btnkh                                  1/1     Running     0               3d23h\r\n```\r\n\r\n8.5 Set MQ namespace environment variable.\r\n```\r\nexport MQ_NAMESPACE=cp4i-mq\r\n```\r\n\r\n8.6 Create certificates and extra route.\r\n```\r\nscripts/10a-qmgr-pre-config.sh\r\n```\r\n\r\n8.7 Create configmap with MQ configuration.\r\n```\r\noc apply -f resources/03c-qmgr-mqsc-config.yaml\r\n```\r\n\r\n8.8 Deploy MQ Queue Manager instance.\r\n```\r\nscripts/10b-qmgr-inst-deploy.sh\r\n```\r\n\r\n8.9 Confirm the instance has been deployed successfully before moving to the next step running the following command.\r\n```\r\noc get queuemanager -n tools\r\n```\r\n\r\n`Note` this will take few minutes, but at the end you should get a response like this:\r\n```\r\nNAME        PHASE\r\nqmgr-demo   Running\r\n```\r\n\r\n8.10 Create CCDT.\r\n```\r\nscripts/10c-qmgr-post-config.sh\r\n```\r\n\r\n***\r\n\r\n### 9 - Deploy the App Connect\r\n\r\nNow, let's install the IBM App Connect.\r\n\r\nBack to the terminal window logged in your OpenShift Environment.\r\n\r\n9.1 First, let's intall the App Connect Catalog source.\r\n```\r\noc apply -f catalog-sources/${CP4I_VER}/10-app-connect-catalog-source-11.4.0.yaml\r\n```\r\n\r\n9.2 Confirm the catalog source has been deployed successfully before moving to the next step running the following command.\r\n```\r\noc get pods -n openshift-marketplace | grep appconnect\r\n```\r\n\r\nYou should get a response like this.\r\n```\r\nappconnect-operator-catalogsource-qt2p5                           1/1     Running     0              3d23h\r\n```\r\n\r\n9.3 Now, we need to install the App Connect operator.\r\n```\r\noc apply -f subscriptions/${CP4I_VER}/07-app-connect-subscription.yaml\r\n```\r\n\r\n9.4 Confirm the operator has been deployed successfully before moving to the next step running the following command.\r\n```\r\noc get pods -n openshift-operators | grep ibm-appconnect\r\n```\r\n\r\nYou should get a response like this.\r\n```\r\nibm-appconnect-operator-7d789b5b4c-cr8qw                          1/1     Running     2 (3d4h ago)    3d23h\r\n```\r\n\r\n9.5 It is time to Deploy the Dashboard instance.\r\n```\r\noc apply -f instances/${CP4I_VER}/${OCP_TYPE}/06-ace-dashboard-instance.yaml\r\n```\r\n\r\n9.6 Confirm the instance has been deployed successfully before moving to the next step running the following command.\r\n```\r\noc get dashboard -n tools\r\n```\r\n\r\nNote this will take few minutes, but at the end you should get a response like this.\r\n```\r\nNAME            RESOLVEDVERSION   REPLICAS   CUSTOMIMAGES   STATUS   URL                                                                                   AGE\r\nace-dashboard   12.0.10.0-r3      1          false          Ready    https://ace-dashboard-ui-tools.apps.6597480c8e1478001153ba0d.cloud.techzone.ibm.com   3d23h\r\n```\r\n\r\n9.7 Now, let's create Bar Auth Configuration.\r\n```\r\nscripts/11-ace-config-barauth-github.sh\r\n```\r\n\r\n9.8 Create Policy Configuration to integrate with MQ.\r\n```\r\nscripts/12a-ace-config-policy-mq.sh\r\n```\r\n\r\nYour App Connect Dashboard environment is ready for the demo! Now, let's prepare the App Connect Toolkit environment.\r\n***\r\n\r\n### 10 - Install IBM App Connect Enterprise for Developers (Toolkit)\r\n\r\nYou can use the IBM App Connect Enterprise Toolkit to build powerful integration applications, services, and APIs. You can then deploy your integration solutions to the software run time, IBM App Connect Enterprise as a Service, containers, or a combination of environments.\r\n\r\n10.1 Using your **IBMid**, **log in** on <a href=\"https://www.ibm.com/resources/mrs/assets?source=swg-wmbfd\" target=\"_blank\">IBM MRS Tool page</a>.\r\n![](images/ace-toolkit-10-1.png)\r\n\r\n10.2 Provide the requested details (A) and **agree** (B) with the license and click **I confirm** (C).\r\n![](images/ace-toolkit-10-2.png)\r\n\r\n10.3 Select the latest version of **IBM App Connect Enterprise for Developers** (A) and click **Continue** (B).\r\n![](images/ace-toolkit-10-3.png)\r\n\r\n10.4 Then select the appropriate download option (for example, ACE-WIN64-DEVELOPER.exe 1.26 GB), and click **Download**.\r\n![](images/ace-toolkit-10-4.png)\r\n\r\n10.5 Install **IBM App Connect Enterprise for Developers** on your chosen platform. More details available on this <a href=\"https://www.ibm.com/docs/en/app-connect/12.0?topic=enterprise-download-ace-developer-edition-get-started\" target=\"_blank\">page</a>.\r\n![](images/ace-toolkit-10-5.png)\r\n\r\n10.6 Start the **IBM App Connect Enterprise Toolkit** on your chosen platform.\r\n![](images/ace-toolkit-10-6.png)\r\n\r\n10.7 Now let's download the Toolkit project that we will use in the demo. Open a browser and go to this <a href=\"https://github.com/ibm-integration/learninghub/blob/main/static/mq-ace-files/ace-mq.zip\" target=\"_blank\">GitHub page</a>\r\n\r\n10.8 Then click on the Download raw file icon.\r\n![](images/ace-toolkit-10-8.png)\r\n\r\nGreat! You are ready to present the demo!  Take a breath and happy selling!\r\n","type":"Mdx","contentDigest":"3f49d219b7112243ec096c18b502d565","owner":"gatsby-plugin-mdx","counter":2070},"frontmatter":{"title":"MQ and ACE Demo","description":"MQ and ACE Demo","tabs":["Demo preparation","Demo script"]},"exports":{},"rawBody":"---\r\ntitle: MQ and ACE Demo\r\ndescription: MQ and ACE Demo\r\ntabs: [ 'Demo preparation', 'Demo script']\r\n---\r\n\r\n\r\n<FeatureCard\r\n  title=\"Access backend systems using Messaging and Integration - Demo Preparation\"\r\n  color=\"dark\"\r\n  >\r\n\r\n![banner](./images/messaging-banner.jpg)\r\n\r\n</FeatureCard>\r\n\r\n<AnchorLinks>\r\n  <AnchorLink>1 - Review Demo Scenario</AnchorLink>\r\n  <AnchorLink>2 - OpenShift Installation</AnchorLink>\r\n  <AnchorLink>3 - Access your OpenShift cluster and install the command line</AnchorLink>\r\n  <AnchorLink>4 - Clone Repositories</AnchorLink>\r\n  <AnchorLink>5 - Set Context</AnchorLink>\r\n  <AnchorLink>6 - Install Foundational Services</AnchorLink>\r\n  <AnchorLink>7 - Deploy the Platform UI</AnchorLink>\r\n  <AnchorLink>8 - Deploy the Enterprise Messaging (MQ)</AnchorLink>\r\n  <AnchorLink>9 - Deploy the App Connect</AnchorLink>\r\n  <AnchorLink>10 - Install IBM App Connect Enterprise for Developers (Toolkit)</AnchorLink>\r\n</AnchorLinks>\r\n\r\n***\r\n\r\n<InlineNotification kind=\"warning\">This Demo Preparation document (steps 3, 4, 5, 6, 7 and 8) uses multiple shell scripts to install MQ environment and demo assets. These scripts are available for MAC OS and Linux users. If you are a Windows user, follow this documentation <a href=\"https://ibm-integration.github.io/learninghub/demos/cp4i-api-tech/win-user/\" target=\"_blank\">here</a> to request a Linux Virtual Machine, only to install the demo environment. For the demo script, you can use your Windows machine.</InlineNotification>\r\n\r\n### 1 - Review Demo Scenario\r\n\r\n| DEMO OVERVIEW |                          |\r\n| --------------------------------------- | ------------------------------------- |\r\n| **Scenario overview** | Access applications through  messages and integrations.  <br/><br/> To automate this customer interaction, we will use both messaging and integrations to back-end applications. |\r\n| **Demo products** | Cloud Pak for Integration (IBM MQ & ACE) |\r\n| **Demo capabilities** | Message Queue; ACE Toolkit; Application integration |\r\n| **Demo intro slides** | Download the Introduction and Overview slides <a href=\"https://github.com/ibm-integration/learninghub/blob/main/src/pages/demos/mq-ace-techsales/files/MQACESlides.pptx\" target=\"_blank\" rel=\"noreferrer\">here</a>. |\r\n| **Demo script** | This demo script has multiple tasks that each have multiple steps. In each step, you have the details about what you need to do (**Actions**), what you can say while delivering this demo step (**Narration**), and what diagrams and screenshots you will see.<br/><br/> This demo script is a suggestion, and you are welcome to customize based on your sales opportunity. Most importantly, practice this demo in advance. If the demo seems easy for you to execute, the customer will focus on the content. If it seems difficult for you to execute, the customer will focus on your delivery. |\r\n| **Prerequisites** | You need to have installed in your machine: <br/>- <a href=\"https://docs.openshift.com/container-platform/4.8/cli_reference/openshift_cli/getting-started-cli.html\" target=\"_blank\">oc CLI</a> v4.6+.<br/>- github CLI<br/>- Bash Shell<br/><br/>- JAVA v8+ <br/><br/>And you also need an account in the folllowing email service to configure your CP4I environment:<br/>- <a href=\"https://mailtrap.io/\" target=\"_blank\">mailtrap</a>|\r\n| **Demo authors** | Rafael Osorio, Carlos Hirata and Ravi Katikala |\r\n| **How to get support** | Contact <a href=\"mailto:rosorio@br.ibm.com\">rosorio@br.ibm.com</a> regarding issues with running this demo use case or installing the Cloud Pak for Integration. <br/><br/> Open a support case at <a href=\"https://techzone.ibm.com/help\" target=\"_blank\">IBM Technology Zone Help</a> regarding issues with reserving and provisioning Tech Zone environments.|\r\n\r\n***\r\n\r\n### 2 - OpenShift Installation\r\n\r\n<InlineNotification>If you already requested an environment for <a href=\"https://ibm-integration.github.io/learninghub/demos/mq-techsales/demo-preparation\" target=\"_blank\">MQ Uniform Clusters Demo</a>, you can reuse the same environment! You don't need to repeat the same demo preparation steps again, just go ahead and skip to step <a href=\"https://ibm-integration.github.io/learninghub/demos/mq-ace-techsales/demo-preparation#9-deploy-the-app-connect\">9 - Deploy the App Connect</a>, and complete steps 9 and 10, and you will be ready to complete this demo. If not, go ahead and complete all steps of this document (steps 2 to 10).</InlineNotification>\r\n\r\n\r\nIBM Cloud Pak for Integration brings together IBM’s market-leading middleware capabilities to support a broad range of integration styles and use cases. With powerful deployment, lifecycle management, and production services running on Red Hat OpenShift, it enables clients to leverage the latest agile integration practices, simplify the management of their integration architecture, and reduce cost. Cloud Pak for Integration demands an OpenShift cluster.\r\n\r\nFollow the steps below to provision a Red Hat OpenShift Container Platform cluster on VMware on IBM Cloud.\r\n\r\n\r\n2.1 To request an OpenShift Cluster on VMware on IBM Cloud, go <a href=\"https://techzone.ibm.com/my/reservations/create/63a3a25a3a4689001740dbb3\" target=\"_blank\">here</a> and complete the form with the follow details.\r\n    Note: if you have any issue to access the url above, copy and paste the url below in your browser.\r\n```\r\nhttps://techzone.ibm.com/my/reservations/create/63a3a25a3a4689001740dbb3\r\n```\r\n\r\n| Field  | Value |\r\n| ------------- | ------------- |\r\n| Purpose  | If you are doing the L4 course, select **Practice/Self Enablement**. <br/> If you are delivering a PoC, select:**Proof-of-Technology** and inform the Sales opportunity.  |\r\n| Purpose Description  | If you are doing the L3 course, enter: **MQ L3 Course**. <br/> If you are delivering a POC, enter the PoC details.  |\r\n| Preferred Geography  | You are welcome to select the preferred Geography |\r\n\r\n![](images/ocp-install-1.png)\r\n\r\n| Field  | Value |\r\n| ------------- | ------------- |\r\n| OpenShift Version | 4.14 |\r\n| Storage  | ODF - 2 TB |\r\n| Worker Node Count  | 5 |\r\n| Worker Node Flavor  | 16 vCPU x 64 GB - 100 GB ephemeral storage |\r\n\r\n![](images/ocp-install-new-1-2.png)\r\n\r\n2.2 **Agree** with the TechZone Terms and Conditions (A) and click **Submit** (B).\r\n![](images/ocp-install-2.png)\r\n\r\n2.3 You will receive an email confirming the instance is provisioning.\r\n![](images/ocp-install-3.png)\r\n\r\n2.4 You will receive a second email once the environment is provisioned. You should expect this to take between 30 and 120 minutes. Now the status update changed to **Ready**.  Click on **Reservation ID** to open the details page of your new reservation environment.\r\n![](images/ocp-install-4.png)\r\n\r\n2.5 Copy your **Cluster Admin Username** (A) and **Cluster Admin Password** (B). Copy the **OCP Console link** (C).\r\n![](images/ocp-install-5.png)\r\n\r\n***\r\n\r\n### 3 - Access your OpenShift cluster and install the command line\r\n\r\nIn this section, you access your OpenShift cluster and install the OpenShift command line tool.\r\n\r\n3.1 In a Browser, open the OCP Console link and paste the **Cluster Admin Username** (A) and **Password** (B) copied in the previous step and click **Log in** (C).\r\n![](images/oc-cli-1.png)\r\n\r\n3.2 Great, you are almost ready for the demo. Last but not least important, let’s copy login command to access the cluster by CLI. On the top right, click your **username** (A) and select **Copy login command** (B).\r\n![](images/oc-cli-2.png)\r\n\r\n3.3 Click **Display Token**.\r\n![](images/oc-cli-3.png)\r\n\r\n3.4 Copy the **Log in with this token command** and **paste** on a terminal window.\r\n![](images/oc-cli-4.png)\r\n\r\n![](images/oc-cli-4-2.png)\r\n\r\nThat is it! Now you are ready for the Cloud Pak for Integration installation. Take a breath and let's start to install the Pak.\r\n\r\n***\r\n\r\n### 4 - Clone Repositories\r\n\r\nTo use this guide you will need to clone the demo repo to your workstation. Let's do it now!\r\n\r\n\r\n4.1 Open a terminal window and **run** the command below.\r\n\r\n```\r\ngh repo clone gomezrjo/cp4i-demo\r\n```\r\n\r\n4.2 Open the **cp4i-demo** folder.\r\n```\r\ncd cp4i-demo\r\n```\r\n\r\n***\r\n\r\n### 5 - Set Context\r\n\r\nBased on where you have deployed your OCP cluster you will need to set up some environment variables to inform the installation script about your environment. Let’s do it here!\r\n\r\n5.1 First, you need to define an environment variable to inform CP4I version.\r\n\r\n```\r\nexport CP4I_VER=2023.4\r\n```\r\n\r\n5.2 Now let's set the OCP type based on the storage classes in your cluster.\r\n```\r\nexport OCP_TYPE=ODF\r\n```\r\n\r\n`Note:` If you are using ROKS cluster, use export OCP_TYPE=ROKS.\r\n\r\n\r\n5.3 Set mailtap credentials.\r\n```\r\nexport MAILTRAP_USER=<my-mailtrap-user>\r\nexport MAILTRAP_PWD=<my-mailtrap-pwd>\r\n```\r\n\r\n5.4 If you have provisioned your OCP cluster in Tech Zone you can use the following script to set the proper default storage class.\r\n```\r\nscripts/99-odf-tkz-set-scs.sh\r\n```\r\n\r\n5.5 Your cluster will also need access to pull the container software required to deploy the Cloud Pak. Your Entitlement Key is used to grant access. You can download you entitlement key from <a href=\"https://myibm.ibm.com/products-services/containerlibrary\" target=\"_blank\">My IBM</a>. Click **Copy**.\r\n![](images/set-context-5.png)\r\n\r\n5.6 The IBM Entitled Registry contains software images for the capabilities in IBM Cloud Pak® for Integration. To allow the Cloud Pak for Integration operators to automatically pull those software images, you must first obtain your entitlement key, then add your entitlement key in a pull secret.  Replace the *my-key* with your **IBM entitlement key**.\r\n```\r\nexport ENT_KEY=<my-key>\r\n```\r\n\r\n5.7 Now, you need a namespace where you will deploy the different capabilities.\r\n```\r\nscripts/02a-cp4i-ns-key-config.sh\r\n```\r\n\r\n***\r\n\r\n### 6 - Install Foundational Services\r\n\r\nThe IBM Cloud Pak foundational services operator is no longer installed automatically. Install this operator manually if you need to create an instance that uses identity and access management. That is exactly, what you will do in this section.\r\n\r\n6.1 First we need to have a certificate manager, otherwise,  the IBM Cloud Pak foundational services operator installation will not complete. Let's do it!\r\n```\r\noc apply -f resources/00-cert-manager-namespace.yaml\r\noc apply -f resources/00-cert-manager-operatorgroup.yaml\r\noc apply -f resources/00-cert-manager-subscription.yaml\r\n```\r\n\r\n6.2 Confirm the subscription has been completed successfully before moving to the next step running the following command.\r\n```\r\noc get pods -n cert-manager-operator\r\n```\r\n\r\nYou should get a response like this:\r\n```\r\nNAME                                                        READY   STATUS    RESTARTS   AGE\r\ncert-manager-operator-controller-manager-7f779b98b4-2f64r   2/2     Running   0          13h\r\n```\r\n\r\n6.3 Now, you need to install Postgress SQL Catalog Source.\r\n```\r\noc apply -f catalog-sources/${CP4I_VER}/01-postgress-sql-catalog-source-4.22.0.yaml\r\n```\r\n\r\n6.4 Confirm the catalog source has been deployed successfully before moving to the next step running the following command.\r\n```\r\noc get pods -n openshift-marketplace | grep postgresql\r\n```\r\n\r\nYou should get a response like this:\r\n```\r\ncloud-native-postgresql-catalog-jsmbk                             1/1     Running     0             14h\r\n```\r\n\r\n6.5 Ok, now you need to install Common Services Catalog source.\r\n```\r\noc apply -f catalog-sources/${CP4I_VER}/02-common-services-catalog-source-4.5.0.yaml\r\n```\r\n\r\n6.6 Confirm the catalog source has been deployed successfully before moving to the next step running the following command.\r\n```\r\noc get pods -n openshift-marketplace | grep opencloud\r\n```\r\n\r\nYou should get a response like this:\r\n```\r\nopencloud-operators-fhbfd                                         1/1     Running     0             14h\r\n```\r\n\r\n6.7 Create the Common Services namespace.\r\n```\r\noc new-project ibm-common-services\r\n```\r\n\r\n6.8 Now, let's intall the Foundational Services operator (former Common Services).\r\n```\r\noc apply -f subscriptions/${CP4I_VER}/00-common-service-subscription.yaml\r\n```\r\n\r\n6.9 Confirm the operator has been deployed successfully before moving to the next step running the following command.\r\n```\r\noc get pods -n openshift-operators | grep ibm-common-service\r\n```\r\n\r\nYou should get a response like this:\r\n```\r\nibm-common-service-operator-8c9b944f4-nkkgb                       1/1     Running     0          14h\r\n```\r\n\r\n***\r\n\r\n### 7 - Deploy the Platform UI\r\n\r\nDeploying the Platform UI allows you to deploy and manage instances from a central location.\r\n\r\n7.1 First, let's install Platform UI Catalog source.\r\n```\r\noc apply -f catalog-sources/${CP4I_VER}/03-platform-navigator-catalog-source-7.2.3.yaml\r\n```\r\n\r\n7.2 Confirm the catalog source has been deployed successfully before moving to the next step running the following command.\r\n```\r\noc get pods -n openshift-marketplace | grep ibm-integration-platform-navigator\r\n```\r\n\r\nYou should get a response like this:\r\n```\r\nibm-integration-platform-navigator-catalog-xsm4w                  1/1     Running     0             14h\r\n```\r\n\r\n7.3 Now, let's install the Platform UI Operator.\r\n```\r\noc apply -f subscriptions/${CP4I_VER}/01-platform-navigator-subscription.yaml\r\n```\r\n\r\n7.4 Confirm the operator has been deployed successfully before moving to the next step running the following command.\r\n```\r\noc get pods -n openshift-operators | grep ibm-integration-platform-navigator\r\n```\r\n\r\nYou should get a response like this:\r\n```\r\nibm-integration-platform-navigator-operator-6489bb9b7-tcnz8       1/1     Running     0          14h\r\n```\r\n\r\n7.5 Let's deploy a Platform UI instance.\r\n```\r\noc apply -f instances/${CP4I_VER}/common/01-platform-navigator-instance.yaml\r\n```\r\n\r\n7.6 Confirm the instance has been deployed successfully before moving to the next step running the following command:\r\n```\r\noc get platformnavigator -n tools\r\n```\r\n\r\nYou should get a response like this:\r\n```\r\nNAME             REPLICAS   VERSION      STATUS   READY   LASTUPDATE   AGE   MESSAGE\r\ncp4i-navigator   3          2023.4.1-0   Ready    True    13h          14h   Platform UI has been provisioned.\r\n```\r\n\r\n7.7 Once the Platform UI instance is up and running get the access info.\r\n```\r\nscripts/03b-cp4i-access-info.sh\r\n```\r\n\r\n7.8 Open the Platform UI  URL and log in. Note the password is temporary and you will be required to change it. Take note of your new password, you will use it multiple times.\r\n![](images/platform-ui-8.png)\r\n\r\n***\r\n\r\n### 8 - Deploy the Enterprise Messaging (MQ)\r\n\r\n8.1 First, let's intall the MQ Catalog Source.\r\n```\r\noc apply -f catalog-sources/${CP4I_VER}/09-mq-catalog-source-3.1.1.yaml\r\n```\r\n\r\n8.2 Confirm the catalog source has been deployed successfully before moving to the next step running the following command.\r\n```\r\noc get pods -n openshift-marketplace | grep ibmmq\r\n```\r\n\r\nYou should get a response like this:\r\n```\r\nibmmq-operator-catalogsource-4h9ql                                1/1     Running     0              3d23h\r\n```\r\n\r\n8.3 Now, let's install the MQ Operator.\r\n```\r\noc apply -f subscriptions/${CP4I_VER}/06-mq-subscription.yaml\r\n```\r\n\r\n8.4 Confirm the operator has been deployed successfully before moving to the next step running the following command.\r\n```\r\noc get pods -n openshift-operators | grep ibm-mq\r\n```\r\n\r\nYou should get a response like this:\r\n```\r\nibm-mq-operator-5965468479-btnkh                                  1/1     Running     0               3d23h\r\n```\r\n\r\n8.5 Set MQ namespace environment variable.\r\n```\r\nexport MQ_NAMESPACE=cp4i-mq\r\n```\r\n\r\n8.6 Create certificates and extra route.\r\n```\r\nscripts/10a-qmgr-pre-config.sh\r\n```\r\n\r\n8.7 Create configmap with MQ configuration.\r\n```\r\noc apply -f resources/03c-qmgr-mqsc-config.yaml\r\n```\r\n\r\n8.8 Deploy MQ Queue Manager instance.\r\n```\r\nscripts/10b-qmgr-inst-deploy.sh\r\n```\r\n\r\n8.9 Confirm the instance has been deployed successfully before moving to the next step running the following command.\r\n```\r\noc get queuemanager -n tools\r\n```\r\n\r\n`Note` this will take few minutes, but at the end you should get a response like this:\r\n```\r\nNAME        PHASE\r\nqmgr-demo   Running\r\n```\r\n\r\n8.10 Create CCDT.\r\n```\r\nscripts/10c-qmgr-post-config.sh\r\n```\r\n\r\n***\r\n\r\n### 9 - Deploy the App Connect\r\n\r\nNow, let's install the IBM App Connect.\r\n\r\nBack to the terminal window logged in your OpenShift Environment.\r\n\r\n9.1 First, let's intall the App Connect Catalog source.\r\n```\r\noc apply -f catalog-sources/${CP4I_VER}/10-app-connect-catalog-source-11.4.0.yaml\r\n```\r\n\r\n9.2 Confirm the catalog source has been deployed successfully before moving to the next step running the following command.\r\n```\r\noc get pods -n openshift-marketplace | grep appconnect\r\n```\r\n\r\nYou should get a response like this.\r\n```\r\nappconnect-operator-catalogsource-qt2p5                           1/1     Running     0              3d23h\r\n```\r\n\r\n9.3 Now, we need to install the App Connect operator.\r\n```\r\noc apply -f subscriptions/${CP4I_VER}/07-app-connect-subscription.yaml\r\n```\r\n\r\n9.4 Confirm the operator has been deployed successfully before moving to the next step running the following command.\r\n```\r\noc get pods -n openshift-operators | grep ibm-appconnect\r\n```\r\n\r\nYou should get a response like this.\r\n```\r\nibm-appconnect-operator-7d789b5b4c-cr8qw                          1/1     Running     2 (3d4h ago)    3d23h\r\n```\r\n\r\n9.5 It is time to Deploy the Dashboard instance.\r\n```\r\noc apply -f instances/${CP4I_VER}/${OCP_TYPE}/06-ace-dashboard-instance.yaml\r\n```\r\n\r\n9.6 Confirm the instance has been deployed successfully before moving to the next step running the following command.\r\n```\r\noc get dashboard -n tools\r\n```\r\n\r\nNote this will take few minutes, but at the end you should get a response like this.\r\n```\r\nNAME            RESOLVEDVERSION   REPLICAS   CUSTOMIMAGES   STATUS   URL                                                                                   AGE\r\nace-dashboard   12.0.10.0-r3      1          false          Ready    https://ace-dashboard-ui-tools.apps.6597480c8e1478001153ba0d.cloud.techzone.ibm.com   3d23h\r\n```\r\n\r\n9.7 Now, let's create Bar Auth Configuration.\r\n```\r\nscripts/11-ace-config-barauth-github.sh\r\n```\r\n\r\n9.8 Create Policy Configuration to integrate with MQ.\r\n```\r\nscripts/12a-ace-config-policy-mq.sh\r\n```\r\n\r\nYour App Connect Dashboard environment is ready for the demo! Now, let's prepare the App Connect Toolkit environment.\r\n***\r\n\r\n### 10 - Install IBM App Connect Enterprise for Developers (Toolkit)\r\n\r\nYou can use the IBM App Connect Enterprise Toolkit to build powerful integration applications, services, and APIs. You can then deploy your integration solutions to the software run time, IBM App Connect Enterprise as a Service, containers, or a combination of environments.\r\n\r\n10.1 Using your **IBMid**, **log in** on <a href=\"https://www.ibm.com/resources/mrs/assets?source=swg-wmbfd\" target=\"_blank\">IBM MRS Tool page</a>.\r\n![](images/ace-toolkit-10-1.png)\r\n\r\n10.2 Provide the requested details (A) and **agree** (B) with the license and click **I confirm** (C).\r\n![](images/ace-toolkit-10-2.png)\r\n\r\n10.3 Select the latest version of **IBM App Connect Enterprise for Developers** (A) and click **Continue** (B).\r\n![](images/ace-toolkit-10-3.png)\r\n\r\n10.4 Then select the appropriate download option (for example, ACE-WIN64-DEVELOPER.exe 1.26 GB), and click **Download**.\r\n![](images/ace-toolkit-10-4.png)\r\n\r\n10.5 Install **IBM App Connect Enterprise for Developers** on your chosen platform. More details available on this <a href=\"https://www.ibm.com/docs/en/app-connect/12.0?topic=enterprise-download-ace-developer-edition-get-started\" target=\"_blank\">page</a>.\r\n![](images/ace-toolkit-10-5.png)\r\n\r\n10.6 Start the **IBM App Connect Enterprise Toolkit** on your chosen platform.\r\n![](images/ace-toolkit-10-6.png)\r\n\r\n10.7 Now let's download the Toolkit project that we will use in the demo. Open a browser and go to this <a href=\"https://github.com/ibm-integration/learninghub/blob/main/static/mq-ace-files/ace-mq.zip\" target=\"_blank\">GitHub page</a>\r\n\r\n10.8 Then click on the Download raw file icon.\r\n![](images/ace-toolkit-10-8.png)\r\n\r\nGreat! You are ready to present the demo!  Take a breath and happy selling!\r\n","fileAbsolutePath":"C:/Users/ruffa/Documents/GitHub/learninghub/src/pages/demos/mq-ace-techsales/demo-preparation.mdx"}}},"staticQueryHashes":["1364590287","137577622","137577622","2102389209","2102389209","2456312558","2746626797","2746626797","3018647132","3018647132","3037994772","3037994772","768070550","768070550"]}